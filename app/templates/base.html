{% extends 'bootstrap/base.html' %}

{% block title %}
    {% if title %}{{ title }} - Microblog{% else %}Welcome to Microblog{% endif %}
{% endblock %}
    
    {% block navbar %}


    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <a class="navbar-brand" href="      {{url_for('index')}}">Microblog</a>
            </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                {% if not current_user.is_anonymous %}
            <ul class="nav navbar-nav navbar-left">
                <li><a href="{{url_for('index')}}">{{_("Home")}}</a></li>
                <li><a href="       {{url_for('user',username=current_user)}}">{{_("Profile")}}</a></li>
                <li><a href="{{url_for('explore')}}">{{_("Explore")}}</a></li>
         
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="{{url_for('logout')}}">{{_("Logout")}}</a></li>
            </ul>
    
                {% else %}
            <ul class="nav navbar-nav navbar-right">
                <li><a href="{{url_for('login')}}">{{_("Login")}}</a></li>
            </ul>
                {% endif %}
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
    {% endblock %}
    
    {% block content %}
        <div class="container">
            {% with messages = get_flashed_messages()%}
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-info" role="alert">{{ message }}</div>
                {% endfor %}
            {% endif %}
            {% endwith %}
            
            {% block app_content %}{% endblock %}
        </div>

{% block scripts %}
    {{super()}}
    {{moment.include_moment()}}
    {{moment.lang(g.locale)}}
    <script>
            function translate(sourceElem, destElem, sourceLang, destLang) {
            $.post('/translate', {
                text: $(sourceElem).text(),
                source_language: sourceLang,
                dest_language: destLang
            }).done(function(response) {
                $(destElem).text(response['text'])
            }).fail(function() {
                $(destElem).text("{{ _('Error: Could not contact server.') }}");
            });
        }
    </script>
{% endblock %}
{% endblock %}